<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹¤æ€ ç®¡ç†</title>
</head>

<body>
    <h1>å‹¤æ€ ç®¡ç†ã‚¢ãƒ—ãƒªâ°ï¸</h1>
    <hr>
    <h2>ã‚ˆã†ã“ãã€{{ user.username }}ã•ã‚“ï¼</h2>
    
    <!--å‡ºå‹¤é€€å‹¤ãƒœã‚¿ãƒ³-->
    <form action="/work_in" method="POST" style="display:inline;">
    <button type="submit" style="font-size:20px; padding:12px 30px;" {% if on_work %}disabled{% endif %}>å‡ºå‹¤</button>
    </form>
    <form action="/work_out" method="POST" style="display:inline;">
    <button type="submit" style="font-size:20px; padding:12px 30px;" {% if not on_work %}disabled{% endif %}>é€€å‹¤</button>
    </form>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <p>{{ message }}</p>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <br><br>

    <!--æœ€è¿‘ã®å‹¤å‹™è¨˜éŒ²-->
    <h2>æœ€è¿‘ã®å‹¤å‹™è¨˜éŒ²ğŸ“Š</h2>
    <table border="2">
    <tr>
        <th>æ—¥ä»˜</th>
        <th>å‡ºå‹¤æ™‚åˆ»</th>
        <th>é€€å‹¤æ™‚åˆ»</th>
        <th>å‹¤å‹™æ™‚é–“</th>
    </tr>
    {% for record in all_records %}
    <tr>
        <td>{{ record.work_in.strftime("%Y-%m-%d") }}</td>
        <td>{{ record.work_in.strftime("%H:%M:%S") }}</td>
        <td>{{ record.work_out.strftime("%H:%M:%S") if record.work_out else "â€”" }}</td>
        <td>
        {% if record.work_out %}
            {{ record.work_out - record.work_in }}
        {% else %}
            â€”
        {% endif %}
        </td>
    </tr>
    {% endfor %}
    </table>
    <br>
    <a href="{{ url_for('edit') }}">ç™»éŒ²æƒ…å ±ã®ç¢ºèªåŠã³ç·¨é›†</a>
    <br>
    <a href="{{ url_for('logout') }}" onclick="return confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ');">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆğŸ‘¤ğŸ”</a>
</body>
</html>