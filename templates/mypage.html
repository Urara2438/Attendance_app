<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹¤æ€ ç®¡ç†</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>

<body>
    <h1>å‹¤æ€ ç®¡ç†ã‚¢ãƒ—ãƒªâ°ï¸</h1>
    <hr>
    <div class="login-card-large">
    <h2>ã‚ˆã†ã“ãï¼Œ{{ user.username }}ã•ã‚“ï¼</h2>
    <p style="text-align: center; font-size: 2rem;">ç¾åœ¨æ™‚åˆ»: {{ now.strftime("%Y-%m-%d %H:%M:%S") }}</p>

    <!--å‡ºå‹¤é€€å‹¤ãƒœã‚¿ãƒ³-->
    <div class="button-group">
    <form action="/work_in" method="POST" style="display:inline;">
    <button type="submit" id="work_in"{% if on_work %}disabled{% endif %}>å‡ºå‹¤</button>
    </form>
    <form action="/work_out" method="POST" style="display:inline;">
    <button type="submit" id="work_out"{% if not on_work %}disabled{% endif %}>é€€å‹¤</button>
    </form>
    </div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <p>{{ message }}</p>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <br>

    <!--æœ€è¿‘ã®å‹¤å‹™è¨˜éŒ²-->
    <h2>æœ€è¿‘ã®å‹¤å‹™è¨˜éŒ²ğŸ“Š</h2>
    <table border="2" class="cute-table">
    <tr>
        <th>æ—¥ä»˜</th>
        <th>å‡ºå‹¤æ™‚åˆ»</th>
        <th>é€€å‹¤æ™‚åˆ»</th>
        <th>å‹¤å‹™æ™‚é–“</th>
    </tr>
    {% for record in all_records %}
    <tr>
        <td>{{ record.work_in.strftime("%Y-%m-%d") }}</td>
        <td>{{ record.work_in.strftime("%H:%M:%S") }}</td>
        <td>{{ record.work_out.strftime("%H:%M:%S") if record.work_out else "â€”" }}</td>
        <td>{{ record.formatted_work_time }}</td>
    </tr>
    {% endfor %}
    </table>
    <br>
    <a href="{{ url_for('edit') }}">ç™»éŒ²æƒ…å ±ã®ç¢ºèªåŠã³ç·¨é›†</a>
    <br>
    <a href="{{ url_for('logout') }}" onclick="return confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ');">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
    </div>
</body>
</html>